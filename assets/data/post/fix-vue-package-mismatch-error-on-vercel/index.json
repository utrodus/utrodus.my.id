{"hash":"64c90ae3f60f6583935e580e374bf0bf4cb3366b","data":{"post":{"title":"Fix Vue package mismatch error on Vercel","path":"/post/fix-vue-package-mismatch-error-on-vercel/","date":"4. July 2021","timeToRead":2,"tags":[{"id":"nuxtjs","title":"nuxtjs","path":"/tag/nuxtjs/"},{"id":"vercel","title":"vercel","path":"/tag/vercel/"}],"description":"","content":"<p>I encountered an error in my frontend code today. I thought this was worthy of sharing.</p>\n<p>I was building a simple weekend project in Nuxt.js connected to Strapi CMS. I deployed Strapi CMS on Heroku. The Nuxt frontend code is on Vercel. The setup was working, and the project runs well both in development and production. The Nuxt project works perfectly fine on my local machine. I can build the project with <strong>yarn build</strong> and run smoothly with <strong>yarn start</strong>.</p>\n<p>Here's a weird part, after adding some dependencies to my code, whenever I pushed a new commit to Github, Vercel couldn't deploy the project. For some reason, the code works well on my machine but fails to build on Vercel. I checked the project's function logs, and sure enough, an error exists.</p>\n<p>Here's the output log:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">Vue packages version mismatch:\nvue@2.3.3\nvue-server-renderer@2.6.14\nThis may cause things to work incorrectly. Make sure to use the same version <span class=\"token keyword\">for</span> both.\n<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span></code></pre>\n<p>I stumbled upon this error before and, I knew removing the node_modules folder and package.json will fix the issue - it didn't help either.</p>\n<p>I tried to fix the issue by removing some packages I added to the project. I thought it causes the problem. The project works again in development mode, so I pushed the code on Github and wait for Vercel to pick up the commit and finish building the project. And yet again, the issue persists. I tried reinstalling Nuxt but to no avail.</p>\n<p>After almost a day of research and trying to fix the issue, I finally came across this closed issue on the Nuxt.js official repository.</p>\n<p><a href=\"https://github.com/nuxt/nuxt.js/issues/6823\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/nuxt/nuxt.js/issues/6823</a></p>\n<p>I followed some of the replies on the thread and, one of the comments helped me solve the issue.</p>\n<h2 id=\"heres-how-i-got-it-to-work\"><a href=\"#heres-how-i-got-it-to-work\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Here's how I got it to work</h2>\n<ol>\n<li>Delete node_modules folder</li>\n<li>Delete package-lock.json or, in my case yarn.lock since I'm using yarn</li>\n<li>And finally, run the following commands while in the project directory. I used npm this time instead of yarn.</li>\n</ol>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> cache clean --force\n<span class=\"token function\">npm</span> i\n<span class=\"token function\">npm</span> audit fix\n<span class=\"token function\">npm</span> update</code></pre>\n<p>Running the commands fixed the issue for me. The project now builds on Vercel successfully.</p>\n<h2 id=\"happy-coding\"><a href=\"#happy-coding\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Happy Coding</h2>\n","cover_image":{"type":"image","mimeType":"image/jpeg","src":"/assets/static/vue-packages-cover.09b17d9.79c661c978735a6a75bfbd730936adce.jpg","size":{"width":2560,"height":1707},"sizes":"(max-width: 2560px) 100vw, 2560px","srcset":["/assets/static/vue-packages-cover.1b91758.79c661c978735a6a75bfbd730936adce.jpg 480w","/assets/static/vue-packages-cover.3df3210.79c661c978735a6a75bfbd730936adce.jpg 1024w","/assets/static/vue-packages-cover.0b85c65.79c661c978735a6a75bfbd730936adce.jpg 1920w","/assets/static/vue-packages-cover.09b17d9.79c661c978735a6a75bfbd730936adce.jpg 2560w"],"dataUri":"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 2560 1707' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-c42377e2fd9dab8f5fa74a2e4d92efdf'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-c42377e2fd9dab8f5fa74a2e4d92efdf)' width='2560' height='1707' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAArAEADASIAAhEBAxEB/8QAHAAAAgMBAAMAAAAAAAAAAAAABgcEBQgDAAEC/8QANRAAAgEDAgMFBQYHAAAAAAAAAQIDBAURAAYSITEHE0FRYRQVIjKBNFKhscHRQmJxgpGSk//EABgBAAMBAQAAAAAAAAAAAAAAAAIDBAAB/8QAKhEAAgIBAwEFCQAAAAAAAAAAAQIAEQMEEiExFCJRUpEFEyMyQXHB0fD/2gAMAwEAAhEDEQA/AM5a81Lko/hJibiI/h1EIwcHkddVg3SZlK9YR7DuU1u3Nbpad2VjKIzw%2bKtyI/HWu6SCgijjMb1eQBk%2bzk%2bOfP11kns6o1qt00Ik5IJAxOcEc%2bRGtIS7F3K8zubdIeJicmZD%2buuNlKfKLm9yH5Y1CWhoqCjR1hkqwGOfsp5ciPveurCmkpYIEjD1ZK9D7Mf30Ersbcg622T/AKJ%2b%2bug2VuIdbZL/ALr%2b%2bg7S/l/vSbs6eae%2b1au9i2%2bl0oKuqpqullUI5pFKniODkMwGMZ1m7fW6bhfZ4qeqmBhiAZlSPuw8mMFioJ8OXXTC7ZKC9Wt6Kjq6SaCkeOSWQ9QzDAUEjPnnSiukcj15YRvIGxghT8X4aeGLJZ4iSoV6E6W%2bWOeVUZcSeH83oPXVlDtaprarImjQO2TkE41UWiCR62NxlQhznR9DMsERlkIVEGST4DUeQnG3dlyfEWmjB7POzuGlr7fLOomjUEu4yAcc/wAxoh7Xd9bisV8u1RQ7iqaC30s8NJHTQUsD5YxK7MWdSc5Y/wCNIGG9Xfcd8gp6e4VFLSI3w8MjKsa/eOPHTjWmsnu1KCvpFuEJbvmeqcymR8Y48%2behzPtCgGjfP2mRDkJNcAcQVj7cdzZAXdVd/fbKY/ljTJjvvaDgEbwp3BAIzaYv0Ol/duzizXq2u9i7q3VyyngJZjDKuPlPM8J9R9Rr6tO29xzUs1pulfJ7HDwRqCCEKqD8pGCwIxyPLpqbW5ciIuTHk2j62L/EPBjUsVdbMn75bc%2b4LRUvddxUNbTqEz3VvROP4wMBgTzzomtG0Ke221aMPJIEZiHcKDzOfADVLebd7s2q1up3Pc97BFGVQKw4pVz09Ty8tdlt11q1kSlut34uByHaUlUABJJ5eHXR%2bz9U2ZDvN88eg/cVq9OFI2CvGI2kr7ZHwsXdW8RwHXC/Xha5EpqJXEOfiJGC58Bjy1Ras9tIr3mnDgEDJGfPGrSgXveEAZC3dhlte3e7aMMwHfPzckePl9NENLKVbrgZ1DDEFQDy1PplDwFmAJDYzqBiWNmXLSihLuzVJhjq484VyHHocdRousF4SshWlrG4eAYV8ZK%2bQ/poApSQ0wB5ctS6N2SYFWIOmbVddjCwYtjRsdYW1NRFVbwsm3miq0rJq%2bGVW9nYxvGjcbOr/KQOHz07amjFBtqqgD8eEZskY6nSq2jXVMdQZElYOiAqeRI69NNSvleXbM8khy7U5JP00/SaZNMm3H0JvmS58rZGtus//9k=' /%3e%3c/svg%3e"},"unsplash_author":"Sigmund","unsplash_link":"https://unsplash.com/@sigmund"},"previous":null,"next":{"title":"How to use Vue plugins with no SSR support on a Gridsome project","path":"/post/how-to-use-vue-plugins-with-no-ssr-support-on-a-gridsome-project/"}},"context":{"previousElement":"##empty##","nextElement":"df0c1f871553ec58f60593e82cce3c97","id":"ee9ad8eb1b6f210af3322606ac15af17"}}