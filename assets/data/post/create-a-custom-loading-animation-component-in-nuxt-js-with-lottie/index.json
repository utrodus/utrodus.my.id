{"hash":"630af41d5bf53533bee15d9b9151a533e3b83b7d","data":{"post":{"title":"Create a custom loading animation component in Nuxt.js with Lottie","path":"/post/create-a-custom-loading-animation-component-in-nuxt-js-with-lottie/","date":"23. October 2020","timeToRead":6,"tags":[{"id":"Nuxt","title":"Nuxt","path":"/tag/Nuxt/"}],"description":"","content":"<p>If you want to make a custom loading animation for your Nuxt application, Nuxt has a quick solution for you. Instead of a simple progress bar only (similar to nprogress), why not make it a little bit fancier?</p>\n<p>In this tutorial, I will teach you how to create a custom loading animation component. We're going to use Lottie.</p>\n<h2 id=\"what-is-lottie\"><a href=\"#what-is-lottie\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>What is Lottie?</h2>\n<p>Lottie is a library for Android, iOS, Web, and Windows developed by Airbnb. It parses Adobe After Effects animations exported as JSON with Bodymovin and renders them natively on mobile and on the web! If you want to know more about Lottie, you can visit its official <a href=\"https://airbnb.design/lottie/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">documentation</a>.</p>\n<h2 id=\"what-is-bodymovin\"><a href=\"#what-is-bodymovin\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>What is BodyMovin?</h2>\n<p>From its official documentation, Bodymovin is an After Effects plugin created by Hernan Torrisi that exports After effects files as json and includes a javascript web player.</p>\n<h2 id=\"lottiefiles\"><a href=\"#lottiefiles\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Lottiefiles</h2>\n<p>For this tutorial, we will download free animation resources from Lottiefiles - a platform that hosts thousands of free and paid After Effects animations from motion designers/creators from around the world.</p>\n<h2 id=\"why-not-gif\"><a href=\"#why-not-gif\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Why not GIF?</h2>\n<p>Sure. You can use gif as you want. However, Gif has larger size compare to Bodymovin JSON. Gif also has a fixed size and is not scalable.</p>\n<h2 id=\"check-the-code\"><a href=\"#check-the-code\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Check the code</h2>\n<p>If you want to just check the code, you can fork the the codesandbox below.</p>\n<iframe src=\"https://codesandbox.io/embed/keen-gauss-32yr3?fontsize=14&hidenavigation=1&theme=dark\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<h1 id=\"important\"><a href=\"#important\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Important!</h1>\n<p>This tutorial assumes you are already familiar with Nuxt.js and have a working knowledge of the framework.</p>\n<h1 id=\"prerequisites\"><a href=\"#prerequisites\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Prerequisites</h1>\n<ol>\n<li>VS Code</li>\n<li>Node.js</li>\n<li>npm</li>\n</ol>\n<h1 id=\"1-create-a-nuxt-app\"><a href=\"#1-create-a-nuxt-app\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>1. Create a Nuxt app</h1>\n<p>On your preferred project location, create a nuxt app from scratch. Open your terminal or command prompt and type in the following:</p>\n<pre class=\"language-text\"><code class=\"language-text\">npx create-nuxt-app lottie-project</code></pre>\n<p>Let the CLI finishes the installation of project dependencies. Once it is done, open your project in VS Code or to your preferred text editor. Open index.vue in the pages folder. Delete all generated code inside and copy and paste the code below.</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Index page<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\n\t<span class=\"token selector\"><span class=\"token class\">.container</span></span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">min-height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token unit\">vh</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">display</span><span class=\"token punctuation\">:</span> grid<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">place-items</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span></code></pre>\n<h1 id=\"2-create-pages\"><a href=\"#2-create-pages\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>2. Create pages.</h1>\n<p>For this example, we will create more pages. We will show the loading component on the center of our page during the transition from one page to another page.</p>\n<p>Inside the pages folder, create 2 more sample pages aside from the index page.\nCreate the following pages - About.vue and Contact.vue.</p>\n<pre class=\"language-html\"><code class=\"language-html\">About.vue\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>About Page<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></code></pre>\n<pre class=\"language-html\"><code class=\"language-html\">Contact.vue\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Contact Page<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></code></pre>\n<h1 id=\"3-create-a-navbar-component\"><a href=\"#3-create-a-navbar-component\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>3. Create a Navbar Component</h1>\n<p>We need navigation for our routes. Inside the components folder, create the Navbar.vue component. Copy and paste the code below.</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>navbar<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nuxt-link</span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Home<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nuxt-link</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nuxt-link</span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/about<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>About<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nuxt-link</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nuxt-link</span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/contact<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Contact<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nuxt-link</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">scoped</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\n\t<span class=\"token selector\"><span class=\"token class\">.navbar</span></span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token hexcode color\">#0089a7</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token unit\">%</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token unit\">rem</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">z-index</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token selector\"><span class=\"token class\">.navbar</span> a</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token color\">white</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">margin-right</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token unit\">rem</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">text-transform</span><span class=\"token punctuation\">:</span> uppercase<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token selector\"><span class=\"token class\">.nuxt-link-exact-active</span></span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">border-bottom</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token unit\">px</span> solid <span class=\"token color\">black</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">padding-bottom</span><span class=\"token punctuation\">:</span> <span class=\"token number\">8</span><span class=\"token unit\">px</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Then import and use this component in layouts -> default.vue.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>template<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>nav<span class=\"token operator\">-</span>bar<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>nav<span class=\"token operator\">-</span>bar<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>nuxt <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span>\n<span class=\"token keyword module\">import</span> <span class=\"token imports\"><span class=\"token maybe-class-name\">NavBar</span></span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"@/components/Navbar.vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> <span class=\"token punctuation\">{</span>\n  components<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token maybe-class-name\">NavBar</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>style<span class=\"token operator\">></span>\n<span class=\"token spread operator\">...</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>style<span class=\"token operator\">></span></code></pre>\n<h1 id=\"4-download-a-lottie-json-file-for-our-animation\"><a href=\"#4-download-a-lottie-json-file-for-our-animation\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>4. Download a Lottie JSON file for our animation</h1>\n<p>For this tutorial, we will use this animation by Tood Rocheford. Download the JSON file: <a href=\"https://lottiefiles.com/9825-loading-screen-loader-spinning-circle\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://lottiefiles.com/9825-loading-screen-loader-spinning-circle</a> and save it inside the project > assets folder. Rename it to loading.json.</p>\n<p><img src=\"https://i.imgur.com/8VDmiH5.gif\" alt=\"Image\"></p>\n<h1 id=\"5-install-vue-lottie\"><a href=\"#5-install-vue-lottie\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>5. Install vue-lottie</h1>\n<p>Next, we need to install vue-lottie. A wrapper of <a href=\"https://aescripts.com/bodymovin/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Bodymovin</a>. This library will handle all the amazing work to display our animation inside our loading component.</p>\n<p>Open the terminal in VS Code and type in the following:</p>\n<pre class=\"language-text\"><code class=\"language-text\">npm install --save vue-lottie</code></pre>\n<h1 id=\"6-create-a-loading-component\"><a href=\"#6-create-a-loading-component\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>6. Create a loading component</h1>\n<p>Inside project folder -> src -> components folder, create Loading.vue file. Copy and paste the following code inside the file.</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>template<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>div v<span class=\"token operator\">-</span><span class=\"token keyword control-flow\">if</span><span class=\"token operator\">=</span><span class=\"token string\">\"loading\"</span> <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"loading\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>lottie\n      <span class=\"token operator\">:</span>width<span class=\"token operator\">=</span><span class=\"token string\">\"250\"</span>\n      <span class=\"token operator\">:</span>height<span class=\"token operator\">=</span><span class=\"token string\">\"250\"</span>\n      <span class=\"token operator\">:</span>options<span class=\"token operator\">=</span><span class=\"token string\">\"lottieOptions\"</span>\n      @animCreated<span class=\"token operator\">=</span><span class=\"token string\">\"handleAnimation\"</span>\n    <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span>\n<span class=\"token keyword module\">import</span> <span class=\"token imports\">lottie</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"vue-lottie/src/lottie.vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token imports\"><span class=\"token operator\">*</span> <span class=\"token keyword module\">as</span> animationData</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"@/assets/loading.json\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> <span class=\"token punctuation\">{</span>\n  components<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    lottie<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword control-flow\">return</span> <span class=\"token punctuation\">{</span>\n      loading<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n      anim<span class=\"token operator\">:</span> <span class=\"token keyword null nil\">null</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// for saving the reference to the animation</span>\n      lottieOptions<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> animationData<span class=\"token operator\">:</span> animationData<span class=\"token punctuation\">.</span><span class=\"token keyword module\">default</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">handleAnimation</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">anim</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">anim</span> <span class=\"token operator\">=</span> anim<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">loading</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">finish</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">loading</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>style<span class=\"token operator\">></span>\n<span class=\"token punctuation\">.</span><span class=\"token property-access\">loading</span> <span class=\"token punctuation\">{</span>\n  background<span class=\"token operator\">:</span> white<span class=\"token punctuation\">;</span>\n  width<span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token operator\">%</span><span class=\"token punctuation\">;</span>\n  height<span class=\"token operator\">:</span> <span class=\"token number\">100</span>vh<span class=\"token punctuation\">;</span>\n  display<span class=\"token operator\">:</span> grid<span class=\"token punctuation\">;</span>\n  place<span class=\"token operator\">-</span>items<span class=\"token operator\">:</span> center<span class=\"token punctuation\">;</span>\n  position<span class=\"token operator\">:</span> absolute<span class=\"token punctuation\">;</span>\n  top<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  left<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>style<span class=\"token operator\">></span></code></pre>\n<p>Let's have a walkthrough of the code.</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n\t<span class=\"token keyword module\">import</span> <span class=\"token imports\">lottie</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"vue-lottie/src/lottie.vue\"</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword module\">import</span> <span class=\"token imports\"><span class=\"token operator\">*</span> <span class=\"token keyword module\">as</span> animationData</span> <span class=\"token keyword module\">from</span>\n\t<span class=\"token string\">\"@/assets/loading.json\"</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token spread operator\">...</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>We import lottie component from vue-lottie library in our script.</p>\n<p>We also import the JSON file from assets folder and assigned it to animationData. The animationData is the object with the exported animation data.</p>\n<p>lottie will be the name of our component.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span>\n<span class=\"token keyword module\">import</span> <span class=\"token imports\">lottie</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"vue-lottie/src/lottie.vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token imports\"><span class=\"token operator\">*</span> <span class=\"token keyword module\">as</span> animationData</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"@/assets/loading.json\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token spread operator\">...</span>\n\n<span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> <span class=\"token punctuation\">{</span>\n\tcomponents<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\tlottie\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></code></pre>\n<p>Then define lottie in components</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n\t<span class=\"token spread operator\">...</span>\n\n\t<span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token spread operator\">...</span>\n\n\t<span class=\"token method function property-access\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword control-flow\">return</span> <span class=\"token punctuation\">{</span>\n\t\t\t\tloading<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n\t\t\t\tanim<span class=\"token operator\">:</span> <span class=\"token keyword null nil\">null</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// for saving the reference to the animation</span>\n\t\t\t\tlottieOptions<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> animationData<span class=\"token operator\">:</span> animationData<span class=\"token punctuation\">.</span><span class=\"token keyword module\">default</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>The loading state of our Nuxt app is set to false by default. Once the user clicks one of the route, the loading state will be set to true.</p>\n<p>anim is just the reference to the animation and lottieOptions are options for our animation. Full list of configurations and options can be found on vue-lottie official Github <a href=\"https://github.com/chenqingspring/vue-lottie\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">repo</a>.</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n\t<span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token spread operator\">...</span>\n\n\t\t methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t    <span class=\"token function-variable function\">handleAnimation</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">anim</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">anim</span> <span class=\"token operator\">=</span> anim<span class=\"token punctuation\">;</span>\n\t    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t    <span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">loading</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n\t    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t    <span class=\"token function\">finish</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">loading</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n\t    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n\t<span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>We create a method that handles the animation.</p>\n<p>We also added start() and finish() methods that set the loading state to true or false when the loading starts or ends. The documentation for custom loading property in Nuxt can be found <a href=\"https://nuxtjs.org/docs/2.x/configuration-glossary/configuration-loading\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">here</a>.</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">v-if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>loading<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>loading<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>lottie</span>\n\t\t\t<span class=\"token attr-name\">:width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>250<span class=\"token punctuation\">\"</span></span>\n\t\t\t<span class=\"token attr-name\">:height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>250<span class=\"token punctuation\">\"</span></span>\n\t\t\t<span class=\"token attr-name\">:options</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>lottieOptions<span class=\"token punctuation\">\"</span></span>\n\t\t\t<span class=\"token attr-name\">@animCreated</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>handleAnimation<span class=\"token punctuation\">\"</span></span>\n\t\t<span class=\"token punctuation\">/></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Lastly, we define lottie component inside our template with properties and the animation function that plays our animation.</p>\n<h2 id=\"7-import-loading-component\"><a href=\"#7-import-loading-component\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>7. Import Loading component</h2>\n<p>To use this loading component, open nuxt.config.js and simply change the loading property to the following code below.</p>\n<pre class=\"language-text\"><code class=\"language-text\">nuxt.config.js\n\nloading: &#39;~/components/Loading.vue&#39;</code></pre>\n<p>Now, if you test the code below, you probably won't see the new loading component when you jump from one page to another. That's because Nuxt.js is fast. Unless you work on large data sets on your page and or in an area with a slow internet connection, the loading component won't show up. But trust me, it's there.</p>\n<p>To demonstrate how this works, we will delay the transition of the page. To do that, we need to create a middleware that will delay the transition to the next page.</p>\n<p>Inside the middleware folder, create delay.js and copy/paste the code below.</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> isServer <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">// Don't use the middleware on server-side</span>\n\t<span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>isServer<span class=\"token punctuation\">)</span> <span class=\"token keyword control-flow\">return</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token comment\">// Return a promise to tell nuxt.js to wait for the end of it</span>\n\t<span class=\"token keyword control-flow\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token comment\">// Wait 1 second between each route</span>\n\t\t<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>And import this code in nuxt.config.js.</p>\n<pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span><span class=\"token property-access\">exports</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n\trouter<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\tmiddleware<span class=\"token operator\">:</span> <span class=\"token string\">\"delay\"</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Try running your app once again and see the loading component works.</p>\n<h2 id=\"summary\"><a href=\"#summary\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Summary</h2>\n<p>In this tutorial, you learned how to create a custom loading in Nuxt.js with Lottie.\nYou learned how to use Adobe after effects animation inside a Nuxt app.</p>\n<p>That's all for now. Until the next blog. Thanks for reading!</p>\n<h2 id=\"happy-coding\"><a href=\"#happy-coding\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Happy Coding!</h2>\n","cover_image":{"type":"image","mimeType":"image/jpeg","src":"/assets/static/loading-cover.09b17d9.7d90372728100968aa7ce7c7c1fcebaa.jpg","size":{"width":2560,"height":1707},"sizes":"(max-width: 2560px) 100vw, 2560px","srcset":["/assets/static/loading-cover.1b91758.7d90372728100968aa7ce7c7c1fcebaa.jpg 480w","/assets/static/loading-cover.3df3210.7d90372728100968aa7ce7c7c1fcebaa.jpg 1024w","/assets/static/loading-cover.0b85c65.7d90372728100968aa7ce7c7c1fcebaa.jpg 1920w","/assets/static/loading-cover.09b17d9.7d90372728100968aa7ce7c7c1fcebaa.jpg 2560w"],"dataUri":"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 2560 1707' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-b5126dfd5b92d6f3932506e123d6c1e7'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-b5126dfd5b92d6f3932506e123d6c1e7)' width='2560' height='1707' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAArAEADASIAAhEBAxEB/8QAGgAAAgMBAQAAAAAAAAAAAAAABAcFBggCA//EADUQAAEDAwMBBgMFCQAAAAAAAAECAwQABREGEiExBxNBUWFxFIHRFyIykqEjM1JVVnKRosH/xAAXAQEBAQEAAAAAAAAAAAAAAAACAQME/8QAIBEAAgMAAQQDAAAAAAAAAAAAAAECAxFBBBIxkSEywf/aAAwDAQACEQMRAD8AStmtsm73NiDBYekSXiQhtlIUtRAJ4BI8AfGrErs41YlIJ0/dArPI7lOMe%2b6tE2DsNsOnL1Eu8G43VcmGvvUJcW2UqOCMHCAcc1dnWc0kiNmO3Oz7VYVhGn7iR5lsD/tc/Z/qz%2bn5/wCQfWta3FC2Ich5loOuttqWlGcbiASB86S73a1d0y2ox0w0iS6MobW%2brKv09DV7QStjH7NIWX2f6s/kE78o%2btdt9nmrnFbUWCaTjOMJ%2btafsr67lZIM51nuHJDKXFtZzsURyM%2bho6E2EzW89FZT/kVGsFGSljXgyuOzTWR6aem/6/Wg75onUVit3x11tUmNGCghTiwnAJ6DgmtYLhPocIE14YPTBx1/uri4WSDeLTIt91bXMjuELWh1asHacjHPGPeiPEMZaMpI8xUGturCRUe5EWVHoBnxNVMLIVxsHgjg8GkJqDReoV3yC9BtBeQ04UqcUtCdqd3BGT5ZrRrkTH4nED50MqG2pYAeBV5AU4zcViOS/o4XyjKfGr2sKlpaHJhWGPGmoCHmioYCgrjcSOR70av7i0qHVJBqYU3FAwVuKPoKDdXDyoBtayOoKqMpa9NqalTXGteEkvR2oNvypCEOZLZTvTtIxuGRz0PHlXYaQ2TtCskY65oSfPUy00W0EpUnjKunpVLa1/Bm3ty0xXgqcgqCkd0vCSnqMniibaPA1HyhhxVSBoGX%2b9PtVRGJrVeqtWQdZC2sO2xi3rdVsc%2bHK17E4OFZP4iPEU0miA%2bhQ6E/pQk3Tdnnz0z5tvYfmMkltxYyUkjBx4dBRWACkDgAjFJ5wYVRtUm7GmuPb/MIjUUETIFwhqCtrzTjeEkg8g9CORSw7KdOXGw3C7GbAejsvcIdeWCVgEFI6k4GVdadTzSHJjgWMjjxr2%2bEjpGQ0jPqM1N%2bMLOnvmp9zWccFSloLtvRtBJQsjA54NUROgnjrBd%2bZckJUo57kNgJPGDkn503Jv7NpZRhJCFEY9qp9pnyp8VSpT7iiHVJ%2b6dnAx/DijuGrgpZp//Z' /%3e%3c/svg%3e"},"unsplash_author":"Pankaj Patel","unsplash_link":"https://unsplash.com/@pankajpatel"},"previous":{"title":"Sharing my Go-to Podcasts","path":"/post/sharing-my-go-to-podcasts/"},"next":{"title":"Top Nuxt.js Modules","path":"/post/top-nuxt-js-modules/"}},"context":{"previousElement":"c59655380b03052cb0cb4916b5e57f44","nextElement":"3d3d8fc56e9f7e506c15f6d9808d7b88","id":"b8b4b32b27b7b583696b9bc6fdd67782"}}